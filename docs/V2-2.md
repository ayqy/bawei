# V2-2：模块（UI）——页面内注入发布面板（最小可用 + 按需出现）

## 1. 目的与范围
- 在抓取源页面内提供一个最小可用的发布面板，用于配置执行与展示诊断信息。
- 本文仅定义“必须有哪些信息与交互”，不包含 UI 设计稿与实现细节。

## 2. 面板形态
- 面板必须注入在 `mp.weixin.qq.com` 文章页内。
- 面板不应遮挡核心正文阅读；应允许用户关闭/折叠（最小可用即可，具体形式不在本文限定）。

## 3. 最小可用 UI（必须）
面板至少包含：
- 渠道选择（仅本期 6 个渠道：`csdn / tencent-cloud-dev / cnblogs / oschina / woshipm / mowen`）
- 动作选择：
  - 保存草稿
  - 直接发布
- 开始执行按钮（触发抓取 + 执行）
- 诊断区（见 `V2-4`），用于显示提示/错误/进度信息
- 渠道执行状态的最小表达（每渠道至少：未开始/进行中/成功/失败）

## 4. 按需出现的选项与状态（必须）
以下信息不需要一开始全部出现，但当对应场景发生时必须出现：
- 未登录：提示“请先登录目标平台后重试”，并提供“重试”的入口（具体按钮形式不限定）。
- 风控/验证码：提示“请在当前标签页完成验证后继续”，并提供“继续/重试”的入口。
- 内容超限/格式不支持：提示“内容可能超限/格式不支持”，并给出可操作的精简建议。

## 5. 成功标准（验收）
- 用户能在面板完成：选择渠道 + 选择动作 + 点击开始。
- 面板能持续展示每个渠道的执行状态变化，并在失败时展示可读原因与建议（详见 `V2-4`）。

## 6. 非功能性需求
- 不应显著降低页面性能或破坏页面主要交互。
- 诊断区文本需用户可理解（不暴露实现细节），本地开发时允许展示更详细信息（由构建脚本判定，见 `V2-0`/`V2-4`）。

## 7. 依赖关系
- 依赖 `V2-0` 的术语与字段口径。
- 诊断区规范依赖 `V2-4`。
- 执行流程依赖 `V2-3`。
